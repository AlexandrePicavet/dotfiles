#!/bin/bash

set -e

readonly CONFIG_FILE=~/.config/starship.toml
readonly LIGHT_THEME_NAME='catppuccin_latte'
readonly DARK_THEME_NAME='catppuccin_macchiato'

declare THEME
THEME="${1}"
readonly THEME

if [ "${THEME}" == 'light' ]; then
	sed -i "s/palette = \"${DARK_THEME_NAME}\"/palette = \"${LIGHT_THEME_NAME}\"/" ${CONFIG_FILE}
elif [ "${THEME}" == 'dark' ]; then
	sed -i "s/palette = \"${LIGHT_THEME_NAME}\"/palette = \"${DARK_THEME_NAME}\"/" ${CONFIG_FILE}
else
	echo "Expecting first argument to be 'light' or 'dark' but got: '${THEME}'" >&2
	exit 1
fi

